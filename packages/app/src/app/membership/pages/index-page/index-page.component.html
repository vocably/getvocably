<div class="container-xl top">
  <app-header></app-header>
</div>
<div class="container-xl bottom">
  <div class="hero">
    <div class="text-center">
      <ng-container *ngIf="membershipStatus.type === 'loading'">
        <ion-spinner name="dots" class="mr-1"></ion-spinner>Checking membership
        status...
      </ng-container>
      <ng-container *ngIf="membershipStatus.type === 'paid_group'">
        <h1>You are a Premium user</h1>
        <div>
          <button class="unstyled link" (click)="showWhyPaid()">Why?</button>
        </div>
      </ng-container>
      <ng-container *ngIf="membershipStatus.type === 'free'">
        <div style="padding: 0 2rem">
          <h1 style="margin-bottom: 3rem">Save as many cards as you like.</h1>
        </div>
        <app-membership-selector></app-membership-selector>
      </ng-container>
      <ng-container *ngIf="membershipStatus.type === 'revenue_cat'">
        <h1>You are a Premium user</h1>
        <p *ngIf="membershipStatus.nextPaymentDate">
          Next payment:
          {{ membershipStatus.nextPaymentDate.toLocaleDateString() }}
        </p>
        <div
          *ngIf="
            membershipStatus.entitlementInfo.willRenew &&
            membershipStatus.managementUrl
          "
        >
          <a [href]="membershipStatus.managementUrl"
            >Manage your subscription</a
          >
        </div>
      </ng-container>
      <ng-container *ngIf="membershipStatus.type === 'error'">
        <div>Unable to load your membership status</div>
      </ng-container>
      <!--      <div *ngIf="membershipStatus.type !== 'loading'">-->
      <!--        <button-->
      <!--          class="unstyled link"-->
      <!--          style="text-decoration: none !important"-->
      <!--          (click)="reload$.next('with_loader')"-->
      <!--        >-->
      <!--          <mat-icon inline="true" class="middle" style="margin-right: 0.25rem"-->
      <!--            >refresh</mat-icon-->
      <!--          >Reload-->
      <!--        </button>-->
      <!--      </div>-->
    </div>
  </div>
</div>
