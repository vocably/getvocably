<form
  class="search-form"
  autocomplete="off"
  (submit)="$event.preventDefault(); submit()"
>
  <div class="preset" style="margin-bottom: 12px">
    <vocably-hint-selector
      class="language"
      hint="I study"
      [value]="sourceLanguage"
      (choose)="sourceLanguage = $event.detail; sourceLanguageChange()"
      [optionGroups]="getSourceLanguageGroups()"
    ></vocably-hint-selector>
    <div>
      <button
        type="button"
        class="direction"
        [class.reversed]="isReversed"
        (click)="isReversed = !isReversed; change()"
      >
        <mat-icon class="icon">arrow_forward</mat-icon>
      </button>
    </div>
    <vocably-hint-selector
      class="language"
      hint="I speak"
      [value]="targetLanguage"
      (choose)="targetLanguage = $event.detail; change()"
      [optionGroups]="getTargetLanguageGroups()"
    ></vocably-hint-selector>
  </div>
  <div class="search-input">
    <input
      #searchInput
      autocomplete="off"
      aria-haspopup="false"
      autocapitalize="off"
      class="input"
      type="text"
      name="searchText"
      [placeholder]="getPlaceholderText()"
      [(ngModel)]="searchText"
      (focus)="textInputFocused = true"
      (blur)="textInputFocused = false"
    />
    <button
      class="submit"
      type="submit"
      [disabled]="isSearching || searchText.trim() === ''"
    >
      <mat-icon class="magnify" [class.animating]="isSearching"
        >search</mat-icon
      >
    </button>
  </div>
  <div *ngIf="!hideHint" style="margin-top: 12px" class="muted">
    <style>
      .reverse-search-hint-icon {
        vertical-align: middle;
        top: -0.1rem;
        position: relative;
        cursor: pointer;
        transition: color 0.3s ease-in-out;

        &:hover {
          color: var(--emphasize-color);
        }
      }
    </style>
    <div class="hint-container">
      <ng-container *ngIf="!isReversed">
        For the improved search of {{ languageName(sourceLanguage) }} words in
        {{ languageName(targetLanguage) }} click the
        <mat-icon class="reverse-search-hint-icon" (click)="isReversed = true"
          >arrow_forward</mat-icon
        >
        button.
      </ng-container>
      <ng-container *ngIf="isReversed">
        Click
        <mat-icon class="reverse-search-hint-icon" (click)="isReversed = false"
          >arrow_back</mat-icon
        >
        button to search for cards in {{ languageName(sourceLanguage) }}.
      </ng-container>
    </div>
  </div>
</form>
