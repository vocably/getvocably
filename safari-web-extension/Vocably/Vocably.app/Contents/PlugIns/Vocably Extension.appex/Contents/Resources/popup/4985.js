"use strict";(self.webpackChunkextension_popup=self.webpackChunkextension_popup||[]).push([[4985],{4985:(h,o,a)=>{a.r(o),a.d(o,{vocably_card_translation:()=>e,vocably_icon_edit:()=>r});var l=a(4795),t=a(2498);const e=class{constructor(i){var n=this;(0,t.r)(this,i),this.disableEditing=!1,this.isEdit=!1,this.isSaving=!1,this.onSubmit=function(){var d=(0,l.Z)(function*(s){if(s.preventDefault(),s.stopPropagation(),!n.isSaving){if(!n.translationInput)throw new Error("Translation input does not exist.");""!==n.translationInput.value.trim()&&(n.isSaving=!0,!0===(yield n.updateCard({translation:n.translationInput.value.trim()})).success?n.isEdit=!1:alert("Unable to update the card."),n.isSaving=!1)}});return function(s){return d.apply(this,arguments)}}()}render(){return this.disableEditing?(0,t.h)("div",{class:"vocably-italic"},this.card.data.translation):this.isEdit?(0,t.h)("form",{onSubmit:this.onSubmit},(0,t.h)("input",{type:"text",class:"text-input",value:this.card.data.translation,autofocus:!0,readonly:this.isSaving,onKeyUp:i=>i.stopPropagation(),onKeyDown:i=>{i.stopPropagation(),"Escape"===i.key&&!this.isSaving&&(this.isEdit=!1)},onKeyPress:i=>i.stopPropagation(),ref:i=>{this.translationInput=i,this.translationInput&&setTimeout(()=>{this.translationInput&&this.translationInput.focus()},200)}}),this.isSaving&&(0,t.h)("vocably-icon-spin",{class:"spin-icon"}),!this.isSaving&&(0,t.h)("button",{class:"translation-icon-button",type:"submit",disabled:this.isSaving},(0,t.h)("vocably-icon-check",null)),!this.isSaving&&(0,t.h)("button",{class:"translation-icon-button",type:"reset",onClick:()=>this.isEdit=!1},(0,t.h)("vocably-icon-close",null))):(0,t.h)("div",{class:"vocably-italic hover-button",onClick:()=>{this.isSaving||(this.isEdit=!0)}},this.card.data.translation,"\xa0","",(0,t.h)("button",{class:"translation-icon-button"},(0,t.h)("vocably-icon-edit",null)))}};e.style="vocably-card-translation{font-family:arial, sans-serif !important;font-size:16px !important;line-height:20px !important;color:#6a6a6a !important;display:block;visibility:visible !important}.translation-icon-button{background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;line-height:inherit;height:20px}.hover-button .translation-icon-button{opacity:0;transition:opacity 0.2s}.hover-button:hover .translation-icon-button{opacity:1}.translation-icon-button:focus{opacity:1}.text-input{line-height:inherit;background-color:transparent;padding:0 4px;border:none;display:inline-block;width:calc(100% - 80px) !important;height:20px;outline:0.8px solid #bababa;border-radius:4px;margin-right:6px}.text-input:focus{background-color:#fff}.spin-icon{--size:12px;vertical-align:middle}";const r=class{constructor(i){(0,t.r)(this,i)}render(){return(0,t.h)(t.H,{key:"13e3bc80b1bb61986657dc459cd9048b3576e327"},(0,t.h)("svg",{key:"2a9ac3206e79222495df4760d1d54615110d397e",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"svg"},(0,t.h)("path",{key:"a95130f0b701859ac80c5177d97cbad00585cad6",d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})))}};r.style=":host{display:inline-block;width:16px;height:16px;visibility:visible !important}.svg{height:100%;width:auto;fill:#6a6a6a}"}}]);